# 멀티스레드와 동시성

## 1. 프로세스와 스레드

### 1.1 멀티태스킹과 멀티프로세싱

- 멀티태스킹
    - 단일 CPU(단일 CPU 코어)가 여러 작업을 동시에 수행하는 것처럼 보이게 하는 것
    - 소프웨어 기반으로 CPU 시간을 분할하여 각 작업에 할당
    - 예: 현대 운영 체제에서 여러 애플리케이션이 동시에 실행되는 환경
- 멀티프로세싱
    - 여러 CPU(여러 CPU 코어)를 사용하여 동시에 여러 작업을 수행
    - 하드웨어 기반 성능 향상
    - 예: 멀티 코어 프로세서를 사용한 현대 컴퓨터 시스템

### 1.2 프로세스와 스레드

- 프로세스
    - 프로그램을 실행하면 프로세스가 생성되고 프로그램이 실행
    - 운영체제 안에서 실행중인 프로그램을 프로세스라함
    - 프로세스는 별도의 메모리 공간을 갖고 있음
- 스레드
    - 프로세스는 반드시 하나의 스레드 포함
    - 프로세스의 코드를 실행하는 흐름을 스레드라함
    - 프로세스 내 실행되는 작업 단위
    - 실제 CPU에 의해 실행되는 단위

### 1.3 스레드와 스케줄링

- 단일 코어 스케줄링
    - 운영체제는 내부에 스케줄링 큐를 갖고 있고, 각 스레드는 스케줄링 큐에서 대기

- 멀티 코어 스케줄링
    - CPU 코어가 2개 이상이면 한번에 더 많은 스레드를 물리적으로 동시에 실행

### 1.4 켄텍스트 스위칭

- 컨텍스트 스위칭
    - 수행하던 스레드를 전환하는 과정
    - 작업 중이던 값들을 메모리에 저장하고, 다시 실행할 때 불러오는 과정이 필요

## 2. 스레드 생성과 실행

### 2.3 데몬 스레드

- 사용자 스레드(non-demon 스레드)
    - 프로그램 주요 작업 수행
    - 모든 user 스레드가 종료되면 JVM도 종료
- 데몬 스레드
    - 백그라운드 보조 작업 수행
    - 모든 user 스레드가 종료되면 데몬 스레드는 자동 종료

### 2.4 스레드 생성 - Runnable

- Thread 클래스 상속 방식
    - 장점
        - 구현이 간단함
    - 단점
        - 자바 특성상 다중 상속 불가능
        - 인터페이스를 사용하느 방법에 비해 유연성이 떨어짐
- Runnable 인터페이스 구현 방식
    - 장점
        - 다른 클래스 상속이 가능
        - 스레드와 실행할 작업을 분리하여 코드의 가독성 향상
        - 여러 스레드가 동일한 Runnable 객체를 공유하여 자원 관리에 효율적
    - 단점
        - 구현이 약간 복잡 